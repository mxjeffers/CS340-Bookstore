
<h1>Authors</h1>

<div class="container">
        <table id="author_table" class="table table-striped"></table>
        
    </div>

<script>
const author_table = document.getElementById("author_table")
function createAuthorTable(){
    $('#author_table').empty()
    var headings = ["authorId","author"]
    var tr = author_table.insertRow(-1)
    for (var i=0; i< headings.length; i++){
        var th =  document.createElement('th')
        th.innerHTML = headings[i]
        tr.appendChild(th)
    }
    $.get('/authordata',(authordata)=>{
        maketable(authordata)
    })
}
function maketable(authordata){
    $.each(authordata,(key,val)=>{
        var tr =author_table.insertRow(-1)
        for(x in val){
            td = document.createElement('td')
            td.innerHTML=(val[x])
            tr.appendChild(td)
        }

    })
}

createAuthorTable()
</script>